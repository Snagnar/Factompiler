# Test: Multiple Independent Memories
# Tests that multiple memories work correctly with arithmetic feedback optimization

Memory counter1: "signal-A";
counter1.write(counter1.read() + 1);

Memory counter2: "signal-B";
counter2.write(counter2.read() + 2);

Memory counter3: "signal-C";
counter3.write((counter3.read() + counter1.read()) % 10);

Entity lamp1 = place("small-lamp", 0, 0);
lamp1.enable = counter1.read() > 5;