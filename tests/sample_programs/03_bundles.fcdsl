# Test 3: Bundle operations and multi-channel signals
# Tests: bundle(), projection from bundles, bundle arithmetic

Signal iron = input("iron-plate", 0);
Signal copper = input("copper-plate", 1);  
Signal coal = input("coal", 2);

# Create bundle with multiple channels
Bundle resources = bundle(iron, copper, coal);

# Bundle arithmetic
Bundle doubled_resources = resources * 2;
Bundle more_resources = resources + bundle(iron * 3, coal);

# Project specific channels from bundle
Signal iron_from_bundle = resources | "iron-plate";
Signal steel_collapsed = resources | "steel-plate";  # sum all channels

# Mixed bundle and signal operations
Bundle iron_plus_bundle = iron + resources;  # iron channel gets added

# Nested bundle operations
Bundle processed = bundle(
    iron * 2 | "iron-ore",
    copper + coal | "copper-ore"
);
