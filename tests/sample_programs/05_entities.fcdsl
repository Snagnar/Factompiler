# Test 5: Entity placement and property access
# Tests: Place(), entity properties, entity.prop syntax

# Place entities at specific coordinates
Entity lamp1 = Place("small-lamp", 0, 0);
Entity lamp2 = Place("small-lamp", 2, 0);
Entity train_station = Place("train-stop", 5, 0);

# Configure train station properties
train_station.manual_mode = 1;

# Input controls
Signal enable_lamps = input("signal-E", 0);
Signal train_control = input("signal-T", 1);

# Control entity properties
lamp1.enable = enable_lamps > 0;
lamp2.enable = enable_lamps > 5;

# Read entity properties (if supported)
Signal lamp1_status = lamp1.enable;

# More complex entity control with memory
mem counter = memory(0);
write(counter, read(counter) + 1);  # increment counter each tick
Signal blink_pattern = read(counter) % 10;
lamp1.enable = (blink_pattern < 5);
lamp2.enable = (blink_pattern >= 5);

# Entity with computed position
Signal x_pos = input(2) % 10;
Signal y_pos = input(3) % 10;
Entity dynamic_lamp = Place("small-lamp", x_pos, y_pos);
