# Test 5: Entity placement and property access
# Tests: place(), entity properties, entity.prop syntax

# Place entities at specific coordinates
Entity lamp1 = place("small-lamp", 0, 0);
Entity lamp2 = place("small-lamp", 2, 0);
Entity train_station = place("train-stop", 5, 0);

# Configure train station properties
train_station.manual_mode = 1;

# Input controls
Signal enable_lamps = ("signal-E", 1);
Signal train_control = ("signal-T", 1);

# Control entity properties
lamp1.enable = enable_lamps > 0;
lamp2.enable = enable_lamps > 5;

# Read entity properties (if supported)
Signal lamp1_status = lamp1.enable;

# More complex entity control with memory
Memory counter = 0;
write(counter, read(counter) + 1);  # increment counter each tick
Signal blink_pattern = read(counter) % 10;
lamp1.enable = (blink_pattern < 5);
lamp2.enable = (blink_pattern >= 5);

# Entity with computed position
Signal x_pos = 3;
Signal y_pos = 4;
Entity dynamic_lamp = place("small-lamp", x_pos, y_pos);
