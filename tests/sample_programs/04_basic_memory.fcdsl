# Test 4: Memory operations and stateful logic
# Tests: Memory declaration, read(), write(), memory persistence

Memory counter = 0;

write(read(counter) + 1, counter, when=1);

Signal pulse = (read(counter) % 10) == 0;

Entity pulse_lamp = place("small-lamp", 0, 0);
pulse_lamp.enable = pulse;