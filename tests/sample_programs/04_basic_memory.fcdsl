# Test 4: Memory operations and stateful logic
# Tests: Memory declaration, read(), write(), memory persistence

Memory counter: "signal-A";
Signal step_size = 1;

write((read(counter) + step_size) % 10, counter, when=1);

Signal pulse = read(counter) == 0;

Entity pulse_lamp = place("small-lamp", 0, 0);
pulse_lamp.enable = pulse;