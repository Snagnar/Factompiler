# Working sample: Memory operations
# Tests: memory(), read(), write()

mem counter = memory(0);
mem accumulator = memory(0);

# Read current values
Signal current_count = read(counter);
Signal current_total = read(accumulator);

# Simple increment
Signal next_count = current_count + 1;
write(counter, next_count);

# Accumulate input
Signal input_value = input(0);
Signal new_total = current_total + input_value;
write(accumulator, new_total);

# Output current values
Signal count_out = current_count | "signal-C";
Signal total_out = current_total | "signal-T";
